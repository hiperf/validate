function e(e,r={},o="en",i,l){let n=null;for(let e in i)if(e==o){n=i[e];break}if(null===n)for(let e in l)if(e==o){n=l[e];break}if(null===n)throw new Error(`Lang "${o}" doesn't exist in locales object. Available locales - ${Object.keys(l).join(", ")}, {Object.keys(userLocales).join(', ')}`);let a=n[e];if(void 0===a)throw new Error(`Key "${e}" does not exist in "${o}" dictionary`);for(let e in r)a=a.replace(`%${e}`,r[e]);return a}function r({validatorConfigValue:r,validatorConfig:o,validatorName:i,fieldName:l,dataValue:n,lang:a,userLocales:t,libLocales:s}){let u="";if(function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}(o)){if(!("value"in o))throw new Error('Missing "value" key in validator config');"error"in o&&(u=o.error)}return u||`${l}: `+e(`error-${i}`,{e:r,v:n},a,t,s)}const o={},i={},l=["required"];function n(e,r={},o={}){return e in r?r[e]:e in o?o[e]:null}module.exports=function(a,t,s="en",u={}){let f=[];"locales"in u||(u.locales={}),"validators"in u||(u.validators={});for(let c in a){const d=a[c],v=!("required"in d)||d.required;let g;if(t.hasOwnProperty(c)){g=t[c];for(let a in d){if(l.includes(a))continue;const t=n(a,u.validators,i);if(!t&&"custom"!=a)throw new Error(e("error-unknown-validator",{v:a},s,u.locales,o));const v=d[a];let w=v;if(n("isObject",u.validators,i)(v)){if(!("value"in v))throw new Error(e("error-validator-config-is-missing-value",{v:a},s,u.locales,o));w=v.value}if("custom"===a){const e=Array.isArray(v)?v:[v];for(let r of e){const e=r(g);for(let r of e.errors)f.push(r)}}else{if(!t(g,w,v)){const e=r({validatorConfigValue:w,validatorConfig:v,validatorName:a,fieldName:c,dataValue:g,lang:s,userLocales:u.locales,libLocales:o});f.push(e)}}}}else v&&f.push(e("field-required",{fieldName:c},s,u.locales,o))}return{isValid:0===f.length,errors:f}};
